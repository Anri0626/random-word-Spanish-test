<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã‚¹ãƒšã‚¤ãƒ³èªå‹•è©ã‚¯ã‚¤ã‚º</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: auto; }
    h1 { text-align: center; }
    .question { font-size: 24px; margin: 20px 0; }
    .options button { margin: 5px; padding: 10px 20px; font-size: 18px; }
    .feedback { font-size: 18px; margin-top: 10px; }
    .pattern, .translation, .example { margin-top: 5px; color: #444; }
    #wrong-list { margin-top: 30px; padding-top: 20px; border-top: 1px solid #ccc; }
    .wrong-word { margin: 5px 0; }
  </style>
</head>
<body>
  <h1>ã‚¹ãƒšã‚¤ãƒ³èªå‹•è©ã‚¯ã‚¤ã‚ºï¼ˆè¦å‰‡ï¼ä¸è¦å‰‡ï¼å†å¸°ï¼‰</h1>
  <div class="question" id="verb">Loading...</div>
  <div class="options">
    <button onclick="checkAnswer('è¦å‰‡')">è¦å‰‡</button>
    <button onclick="checkAnswer('ä¸è¦å‰‡')">ä¸è¦å‰‡</button>
    <button onclick="checkAnswer('å†å¸°')">å†å¸°</button>
  </div>
  <div class="feedback" id="feedback"></div>
  <div class="pattern" id="pattern"></div>
  <button onclick="showDetails()">æ„å‘³ãƒ»ä¾‹æ–‡ã‚’è¦‹ã‚‹</button>
  <div class="translation" id="translation"></div>
  <div class="example" id="example"></div>
  <button onclick="nextQuestion()">æ¬¡ã®å•é¡Œã¸ â¤</button>

  <div id="wrong-list">
    <h3>âŒ é–“é•ãˆãŸå‹•è©ãƒªã‚¹ãƒˆ</h3>
    <div id="wrongWords"></div>
  </div>

  <script>
    const verbs = [
      { infinitive: "hablar", type: "è¦å‰‡", group: "-ar", translation: "è©±ã™", example: "Yo hablo espaÃ±ol." },
      { infinitive: "comer", type: "è¦å‰‡", group: "-er", translation: "é£Ÿã¹ã‚‹", example: "Nosotros comemos arroz." },
      { infinitive: "vivir", type: "è¦å‰‡", group: "-ir", translation: "ä½ã‚€", example: "Ella vive en Madrid." },
      { infinitive: "leer", type: "è¦å‰‡", group: "-er", translation: "èª­ã‚€", example: "Leo muchos libros." },
      { infinitive: "escribir", type: "è¦å‰‡", group: "-ir", translation: "æ›¸ã", example: "Escribimos un correo." },

      { infinitive: "ser", type: "ä¸è¦å‰‡", group: "-", translation: "ã€œã§ã‚ã‚‹", example: "Yo soy estudiante.", pattern: "å®Œå…¨ä¸è¦å‰‡" },
      { infinitive: "estar", type: "ä¸è¦å‰‡", group: "-ar", translation: "ã„ã‚‹ã€ã‚ã‚‹", example: "Estoy en casa.", pattern: "å®Œå…¨ä¸è¦å‰‡" },
      { infinitive: "ir", type: "ä¸è¦å‰‡", group: "-", translation: "è¡Œã", example: "Vamos al cine.", pattern: "å®Œå…¨ä¸è¦å‰‡" },
      { infinitive: "tener", type: "ä¸è¦å‰‡", group: "-er", translation: "æŒã¤", example: "Tengo un libro.", pattern: "yoä¸è¦å‰‡ï¼ˆtengoï¼‰ï¼‹èªå¹¹å¤‰åŒ– eâ†’ie" },
      { infinitive: "decir", type: "ä¸è¦å‰‡", group: "-ir", translation: "è¨€ã†", example: "Digo la verdad.", pattern: "yoä¸è¦å‰‡ï¼ˆdigoï¼‰ï¼‹èªå¹¹å¤‰åŒ– eâ†’i" },
      { infinitive: "jugar", type: "ä¸è¦å‰‡", group: "-ar", translation: "éŠã¶", example: "Jugamos al fÃºtbol.", pattern: "èªå¹¹å¤‰åŒ– uâ†’ue" },
      { infinitive: "cerrar", type: "ä¸è¦å‰‡", group: "-ar", translation: "é–‰ã‚ã‚‹", example: "Cierro la puerta.", pattern: "èªå¹¹å¤‰åŒ– eâ†’ie" },
      { infinitive: "salir", type: "ä¸è¦å‰‡", group: "-ir", translation: "å‡ºã‚‹", example: "Salgo de casa a las 8.", pattern: "yoä¸è¦å‰‡ï¼ˆsalgoï¼‰" },
      { infinitive: "poner", type: "ä¸è¦å‰‡", group: "-er", translation: "ç½®ã", example: "Pongo la mesa.", pattern: "yoä¸è¦å‰‡ï¼ˆpongoï¼‰" },

      { infinitive: "levantarse", type: "å†å¸°", group: "-ar", translation: "èµ·ãã‚‹", example: "Me levanto a las 7." },
      { infinitive: "acostarse", type: "å†å¸°", group: "-ar", translation: "å¯ã‚‹", example: "Me acuesto tarde.", pattern: "èªå¹¹å¤‰åŒ– oâ†’ueï¼‹å†å¸°" },
      { infinitive: "baÃ±arse", type: "å†å¸°", group: "-ar", translation: "å…¥æµ´ã™ã‚‹", example: "Me baÃ±o por la noche." },
      { infinitive: "vestirse", type: "å†å¸°", group: "-ir", translation: "æœã‚’ç€ã‚‹", example: "Me visto rÃ¡pido.", pattern: "èªå¹¹å¤‰åŒ– eâ†’iï¼‹å†å¸°" },
      { infinitive: "llamarse", type: "å†å¸°", group: "-ar", translation: "ã€œã¨ã„ã†åå‰ã§ã‚ã‚‹", example: "Me llamo Ana." }
    ];

    let currentVerb;
    let wrongAnswers = [];

    function getRandomVerb() {
      return verbs[Math.floor(Math.random() * verbs.length)];
    }

    function displayVerb() {
      currentVerb = getRandomVerb();
      document.getElementById("verb").textContent = `æ¬¡ã®å‹•è©ã¯ä½•ã®ç¨®é¡ï¼Ÿï¼š ${currentVerb.infinitive}`;
      document.getElementById("feedback").textContent = "";
      document.getElementById("pattern").textContent = "";
      document.getElementById("translation").textContent = "";
      document.getElementById("example").textContent = "";
    }

    function checkAnswer(choice) {
      const feedback = document.getElementById("feedback");
      const patternBox = document.getElementById("pattern");

      if (choice === currentVerb.type) {
        feedback.textContent = "âœ… æ­£è§£ï¼";
        feedback.style.color = "green";
      } else {
        feedback.textContent = `âŒ ä¸æ­£è§£ï¼æ­£è§£ï¼š${currentVerb.type}`;
        feedback.style.color = "red";
        wrongAnswers.push(currentVerb);
        updateWrongList();
      }

      // ğŸ‘‡ ä¸è¦å‰‡å‹•è©ã‚„ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ã‚‹å ´åˆã ã‘è¡¨ç¤ºï¼
      if (currentVerb.type === "ä¸è¦å‰‡" && currentVerb.pattern) {
        patternBox.textContent = `ğŸ” ä¸è¦å‰‡ã®ç¨®é¡ï¼š${currentVerb.pattern}`;
      } else if (currentVerb.type === "å†å¸°" && currentVerb.pattern) {
        patternBox.textContent = `ğŸ” ç‰¹å¾´ï¼š${currentVerb.pattern}`;
      } else {
        patternBox.textContent = "";
      }
    }

    function showDetails() {
      document.getElementById("translation").textContent = "æ„å‘³ï¼š" + currentVerb.translation;
      document.getElementById("example").textContent = "ä¾‹æ–‡ï¼š" + currentVerb.example;
    }

    function nextQuestion() {
      displayVerb();
    }

    function updateWrongList() {
      const container = document.getElementById("wrongWords");
      container.innerHTML = "";
      const unique = [...new Set(wrongAnswers.map(v => v.infinitive))];
      unique.forEach(verb => {
        const div = document.createElement("div");
        div.className = "wrong-word";
        div.textContent = verb;
        container.appendChild(div);
      });
    }

    displayVerb();
  </script>
</body>
</html>
