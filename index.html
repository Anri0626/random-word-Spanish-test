<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>スペイン語動詞クイズ</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: auto; }
    h1 { text-align: center; }

    .question { font-size: 24px; margin: 20px 0; }

    button {
      padding: 15px 30px;
      font-size: 20px;
      border-radius: 8px;
      cursor: pointer;
      margin: 15px 10px 0 0;
      transition: background-color 0.3s ease;
      box-sizing: border-box;
    }
    button:hover {
      background-color: #eee;
    }

    .options button {
      margin: 10px;
    }

    .feedback { font-size: 18px; margin-top: 10px; }
    .pattern, .translation, .example { margin-top: 5px; }
    #wrong-list { margin-top: 30px; padding-top: 20px; border-top: 1px solid #ccc; }
    .wrong-word { margin: 5px 0; }

    @media screen and (max-width: 480px) {
      button {
        width: 100%;
        padding: 20px 0;
        font-size: 22px;
        margin: 10px 0;
      }
      .options button {
        margin: 10px 0;
      }
    }
  </style>
</head>
<body>
  <h1>スペイン語動詞クイズ（規則／不規則）</h1>
  <div class="question" id="verb">Loading...</div>
  <div class="options">
    <button onclick="checkAnswer('規則')">規則</button>
    <button onclick="checkAnswer('不規則')">不規則</button>
  </div>
  <div class="feedback" id="feedback"></div>
  <div class="pattern" id="pattern"></div>
  <button onclick="showDetails()">意味・例文を見る</button>
  <div class="translation" id="translation"></div>
  <div class="example" id="example"></div>
  <button onclick="nextQuestion()">次の問題へ ➤</button>
  <div id="wrong-list">
    <h3>❌ 間違えた動詞リスト</h3>
    <div id="wrongWords"></div>
  </div>

  <script>
    const verbs = [
      // 規則動詞（isReflexive: false）
      { infinitive: "cantar", type: "規則", isReflexive: false, group: "-ar", translation: "歌う", example: "Yo canto una canción." },
      { infinitive: "cenar", type: "規則", isReflexive: false, group: "-ar", translation: "夕食をとる", example: "Cenamos a las ocho." },
      { infinitive: "comprar", type: "規則", isReflexive: false, group: "-ar", translation: "買う", example: "Compro pan en la tienda." },
      { infinitive: "estudiar", type: "規則", isReflexive: false, group: "-ar", translation: "勉強する", example: "Estudian español." },
      { infinitive: "tomar", type: "規則", isReflexive: false, group: "-ar", translation: "取る／飲む", example: "Tomamos café." },
      { infinitive: "trabajar", type: "規則", isReflexive: false, group: "-ar", translation: "働く", example: "Trabajo en una oficina." },
      { infinitive: "aprender", type: "規則", isReflexive: false, group: "-er", translation: "学ぶ", example: "Aprendemos japonés." },
      { infinitive: "beber", type: "規則", isReflexive: false, group: "-er", translation: "飲む", example: "Bebo agua." },
      { infinitive: "comprender", type: "規則", isReflexive: false, group: "-er", translation: "理解する", example: "¿Comprendes?" },
      { infinitive: "leer", type: "規則", isReflexive: false, group: "-er", translation: "読む", example: "Leo muchos libros." },
      { infinitive: "abrir", type: "規則", isReflexive: false, group: "-ir", translation: "開ける", example: "Abro la puerta." },
      { infinitive: "asistir", type: "規則", isReflexive: false, group: "-ir", translation: "出席する", example: "Asisto a clase." },
      { infinitive: "escribir", type: "規則", isReflexive: false, group: "-ir", translation: "書く", example: "Escribimos un correo." },
      { infinitive: "partir", type: "規則", isReflexive: false, group: "-ir", translation: "出発する", example: "Parten mañana." },
      { infinitive: "recibir", type: "規則", isReflexive: false, group: "-ir", translation: "受け取る", example: "Recibimos una carta." },
      { infinitive: "subir", type: "規則", isReflexive: false, group: "-ir", translation: "登る／上がる", example: "Subo las escaleras." },
      { infinitive: "vivir", type: "規則", isReflexive: false, group: "-ir", translation: "住む", example: "Vivo en Tokio." },

      // 不規則動詞（isReflexive: false）
      { infinitive: "ser", type: "不規則", isReflexive: false, group: "-", translation: "〜である", example: "Soy estudiante.", pattern: "完全不規則" },
      { infinitive: "estar", type: "不規則", isReflexive: false, group: "-ar", translation: "いる、ある", example: "Estoy cansado.", pattern: "完全不規則" },
      { infinitive: "ir", type: "不規則", isReflexive: false, group: "-", translation: "行く", example: "Voy a la escuela.", pattern: "完全不規則" },
      { infinitive: "tener", type: "不規則", isReflexive: false, group: "-er", translation: "持つ", example: "Tengo un libro.", pattern: "yo不規則（tengo）＋語幹変化 e→ie" },
      { infinitive: "decir", type: "不規則", isReflexive: false, group: "-ir", translation: "言う", example: "Digo la verdad.", pattern: "yo不規則（digo）＋語幹変化 e→i" },
      { infinitive: "hacer", type: "不規則", isReflexive: false, group: "-er", translation: "する", example: "Hago la tarea.", pattern: "yo不規則（hago）" },
      { infinitive: "salir", type: "不規則", isReflexive: false, group: "-ir", translation: "出る", example: "Salgo de casa.", pattern: "yo不規則（salgo）" },
      { infinitive: "poner", type: "不規則", isReflexive: false, group: "-er", translation: "置く", example: "Pongo la mesa.", pattern: "yo不規則（pongo）" },
      { infinitive: "conocer", type: "不規則", isReflexive: false, group: "-er", translation: "知っている", example: "Conozco a María.", pattern: "yo不規則（conozco）" },
      { infinitive: "conducir", type: "不規則", isReflexive: false, group: "-ir", translation: "運転する", example: "Conduzco un coche.", pattern: "yo不規則（conduzco）" },
      { infinitive: "ver", type: "不規則", isReflexive: false, group: "-er", translation: "見る", example: "Veo la televisión.", pattern: "yo不規則（veo）" },
      { infinitive: "dar", type: "不規則", isReflexive: false, group: "-ar", translation: "与える", example: "Doy un regalo.", pattern: "yo不規則（doy）" },
      { infinitive: "traer", type: "不規則", isReflexive: false, group: "-er", translation: "持ってくる", example: "Traigo la mochila.", pattern: "yo不規則（traigo）" },
      { infinitive: "cerrar", type: "不規則", isReflexive: false, group: "-ar", translation: "閉める", example: "Cierro la puerta.", pattern: "語幹変化 e→ie" },
      { infinitive: "empezar", type: "不規則", isReflexive: false, group: "-ar", translation: "始める", example: "Empiezo ahora.", pattern: "語幹変化 e→ie" },
      { infinitive: "pensar", type: "不規則", isReflexive: false, group: "-ar", translation: "考える", example: "Pienso mucho.", pattern: "語幹変化 e→ie" },
      { infinitive: "entender", type: "不規則", isReflexive: false, group: "-er", translation: "理解する", example: "Entiendo bien.", pattern: "語幹変化 e→ie" },
      { infinitive: "preferir", type: "不規則", isReflexive: false, group: "-ir", translation: "好む", example: "Prefiero té.", pattern: "語幹変化 e→ie" },
      { infinitive: "contar", type: "不規則", isReflexive: false, group: "-ar", translation: "数える／語る", example: "Cuento hasta diez.", pattern: "語幹変化 o→ue" },
      { infinitive: "dormir", type: "不規則", isReflexive: false, group: "-ir", translation: "眠る", example: "Duermo ocho horas.", pattern: "語幹変化 o→ue" },
      { infinitive: "poder", type: "不規則", isReflexive: false, group: "-er", translation: "〜できる", example: "Puedo hablar español.", pattern: "語幹変化 o→ue" },
      { infinitive: "volver", type: "不規則", isReflexive: false, group: "-er", translation: "戻る", example: "Vuelvo pronto.", pattern: "語幹変化 o→ue" },
      { infinitive: "morir", type: "不規則", isReflexive: false, group: "-ir", translation: "死ぬ", example: "Muere en la película.", pattern: "語幹変化 o→ue" },
      { infinitive: "pedir", type: "不規則", isReflexive: false, group: "-ir", translation: "頼む", example: "Pido ayuda.", pattern: "語幹変化 e→i" },
      { infinitive: "servir", type: "不規則", isReflexive: false, group: "-ir", translation: "仕える／出す", example: "Sirvo la comida.", pattern: "語幹変化 e→i" },
      { infinitive: "oír", type: "不規則", isReflexive: false, group: "-ir", translation: "聞く", example: "Oigo música.", pattern: "yo不規則（oigo）＋綴り変化" },
      { infinitive: "saber", type: "不規則", isReflexive: false, group: "-er", translation: "知っている", example: "Sé la respuesta.", pattern: "yo不規則（sé）" },
      { infinitive: "querer", type: "不規則", isReflexive: false, group: "-er", translation: "欲しい／〜したい", example: "Quiero un café.", pattern: "語幹変化 e→ie"
